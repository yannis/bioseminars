/**
 * k.Growler 1.0.0 by Kevin Armstrong <kevin@kevinandre.com>
 */
window.k=window.k||{};(function(){var h={header:'&nbsp;',speedin:0.3,speedout:0.5,outDirection:{y:-20},life:5,sticky:false,className:""};var i={location:"tr",width:"250px"};var j=(Prototype.Browser.IE)?parseFloat(navigator.appVersion.split("MSIE ")[1])||0:0;function removeNotice(n,o){o=o||h;new Effect.Parallel([new Effect.Move(n,Object.extend({sync:true,mode:'relative'},o.outDirection)),new Effect.Opacity(n,{sync:true,to:0})],{duration:o.speedout,afterFinish:function(){try{var a=n.down("div.notice-exit");if(a!=undefined){a.stopObserving("click",removeNotice)}if(o.created&&Object.isFunction(o.created)){n.stopObserving("notice:created",o.created)}if(o.destroyed&&Object.isFunction(o.destroyed)){n.fire("notice:destroyed");n.stopObserving("notice:destroyed",o.destroyed)}}catch(e){}try{n.remove()}catch(e){}}})}function createNotice(a,b,c){var d=Object.clone(h);c=c||{};Object.extend(d,c);var e;if(d.className!=""){e=new Element("div",{"class":d.className}).setStyle({display:"block",opacity:0})}else{e=new Element("div",{"class":"Growler-notice"}).setStyle({display:"block",opacity:0})}if(d.created&&Object.isFunction(d.created)){e.observe("notice:created",d.created)}if(d.destroyed&&Object.isFunction(d.destroyed)){e.observe("notice:destroyed",d.destroyed)}if(d.sticky){var f=new Element("div",{"class":"Growler-notice-exit"}).update("&times;");f.observe("click",function(){removeNotice(e,d)});e.insert(f)}e.insert(new Element("div",{"class":"Growler-notice-head"}).update(d.header));e.insert(new Element("div",{"class":"Growler-notice-body"}).update(b));a.insert(e);new Effect.Opacity(e,{to:0.85,duration:d.speedin});if(!d.sticky){removeNotice.delay(d.life,e,d)}e.fire("notice:created");return e}function specialNotice(g,m,o,t,b,c){o.header=o.header||t;var n=createNotice(g,m,o);n.setStyle({backgroundColor:b,color:c});return n}k.Growler=Class.create({initialize:function(a){var b=Object.clone(i);a=a||{};Object.extend(b,a);this.growler=new Element("div",{"class":"Growler","id":"Growler"});this.growler.setStyle({position:((j==6)?"absolute":"fixed"),padding:"10px","width":b.width,"z-index":"50000"});if(j==6){var c={w:parseInt(this.growler.style.width)+parseInt(this.growler.style.padding)*3,h:parseInt(this.growler.style.height)+parseInt(this.growler.style.padding)*3};switch(b.location){case"br":this.growler.style.setExpression("left","( 0 - Growler.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 - Growler.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break;case"tl":this.growler.style.setExpression("left","( 0 + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break;case"bl":this.growler.style.setExpression("left","( 0 + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 - Growler.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break;default:this.growler.setStyle({right:"auto",bottom:"auto"});this.growler.style.setExpression("left","( 0 - Growler.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break}}else{switch(b.location){case"br":this.growler.setStyle({bottom:0,right:0});break;case"tl":this.growler.setStyle({top:0,left:0});break;case"bl":this.growler.setStyle({top:0,right:0});break;case"tc":this.growler.setStyle({top:0,left:"25%",width:"50%"});break;case"bc":this.growler.setStyle({bottom:0,left:"25%",width:"50%"});break;default:this.growler.setStyle({top:0,right:0});break}}this.growler.wrap(document.body)},growl:function(a,b){return createNotice(this.growler,a,b)},warn:function(a,b){return specialNotice(this.growler,a,b,"Warning!","#F6BD6F","#000")},error:function(a,b){return specialNotice(this.growler,a,b,"Critical!","#F66F82","#000")},info:function(a,b){return specialNotice(this.growler,a,b,"Information!","#BBF66F","#000")},ungrowl:function(n,o){removeNotice(n,o)}})})();