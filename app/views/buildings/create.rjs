page << flash_in_rjs(flash[:notice], flash[:warning])
page << "if ($('#{params[:controller]}_div')) {remove_div_and_restablish_opacity('#{params[:controller]}_div')}"

if flash[:warning].blank?
  page.replace_html "#{@origin}_building_id", options_from_collection_for_select(Building.find(:all), :id, :name, @building.id)
  page << "new Effect.Highlight('#{@origin}_building_id', {duration: 5});"
end
flash.discard