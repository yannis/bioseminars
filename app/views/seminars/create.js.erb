<%= flash_in_js %>
if ($('#<%= params[:controller] %>_div').length != 0) {remove_div_and_overlay('<%= params[:controller] %>_div')}
<%- if flash[:alert].blank? -%>
if ($('#<%= @origin.gsub('date_', 'seminars_') %>').length == 0) {
  var list = $("<ul id='<%= @origin.gsub('date_', 'seminars_') %>' style='list-style-type: none; font-size: 0.9em; text-align: left; padding: 0; margin: 0'></ul>");
  var td = $('#<%= @origin %>');
  td.append(list);
} else {
  var list = $('#<%= @origin.gsub('date_', 'seminars_') %>');
};
<%- html = render('seminars/seminar_for_calendar', :seminar => @seminar)  -%>
list.append('<%= escape_javascript(html).html_safe %>');
$('#<%= @origin %>').effect("highlight", {}, 3000);
$('.seminar_link').each( function() {
  $(this).qtip({
    content: { 
      text: $(this).next('.mini_seminar'),
      title: { 
        text: $(this).attr('title'),
        button: 'x'
      }
    },
    style: {
      classes: 'my_qtip_style'
    },
    position: {
      my: 'left center', 
      at: 'right center'
    },
    show: {
      event: 'click',
      solo: true
    },
    hide: {
      fixed: true,
      event: false
    }
  })
})
<%- end -%>
<%- flash.discard -%>