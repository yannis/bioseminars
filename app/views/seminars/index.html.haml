- javascript '/javascripts/FancyZoom_1.1/js-global/FancyZoom.js'
- javascript '/javascripts/FancyZoom_1.1/js-global/FancyZoomHTML.js'
- functions_to_load = ["setupZoom();"]
- functions_to_load << " $('#scope_selector').change(function() { var scope = $('#scope_selector').val(); window.location.href='#{seminars_path}?scope='+scope });"
- functions_to_load << load_publications_for(@seminars_with_publication) unless @seminars_with_publication.blank?
- document_ready functions_to_load.join()
- @title ||= "Seminars"
.left_column
  %h2.title
    = @title
  .scope_and_pagination
    = form_tag(seminars_path, :method => :get, :id => 'scope') do
      show
      = select_tag :scope, options_for_select(['all', 'future', 'past'], params[:scope]), :id => 'scope_selector'
      seminars
      -# # = observe_form 'scope', :function => "window.location.href='#{seminars_path}?'+value+'#{params.blank? ? '' : ('&'+params.map{|key,value| (key+'='+value) if (key != 'controller' and key != 'action' and key != 'scope')}.compact.join('&'))}'", :method => :get
    = will_paginate @seminars, :inner_window => 1, :outer_window => 1
  %p= @seminars_with_publication.map(&:id).join('; ')
  = render @seminars
%aside
  = render 'categories_menu'
  = render 'next_seminar_box'